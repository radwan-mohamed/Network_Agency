<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CPU and RAM Usage</title>
    <script>
      async function fetchCpuRamUsage() {
        try {
          const response = await fetch("http://localhost:3002/cpu-ram-usage", {
            method: "GET",
          });
          const data = await response.json();
          document.getElementById("cpuRamUsage").innerHTML = `
          <p>CPU Usage: ${data.cpuUsage}%</p>
          <p>RAM Usage: ${data.ramUsage}%</p>
        `;
        } catch (error) {
          console.error("Error fetching CPU and RAM usage:", error);
          document.getElementById("cpuRamUsage").innerHTML =
            "<p>Error fetching CPU and RAM usage.</p>";
        }
        try {
          const response = await fetch("http://localhost:3005/cpu-ram-usage", {
            method: "GET",
          });
          const data = await response.json();
          document.getElementById("cpuRamUsage").innerHTML = `
          <p>CPU Usage: ${data.cpuUsage}%</p>
          <p>RAM Usage: ${data.ramUsage}%</p>
        `;
        } catch (error) {
          console.error("Error fetching CPU and RAM usage:", error);
          document.getElementById("cpuRamUsage").innerHTML =
            "<p>Error fetching CPU and RAM usage.</p>";
        }
      }

      window.onload = fetchCpuRamUsage;
    </script>
  </head>
  <body>
    <h1>CPU and RAM Usage</h1>
    <div id="cpuRamUsage">Loading...</div>
  </body>
</html>
